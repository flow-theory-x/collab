<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>パーリ経典キャラクター設定</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { background: #1a1a2e; color: #e0d8c0; font-family: 'Helvetica Neue', sans-serif; }
h1 { text-align: center; padding: 2rem 1rem 0.5rem; font-size: 1.8rem; color: #d4a857; }
.subtitle { text-align: center; color: #888; font-size: 0.9rem; margin-bottom: 2rem; }
.group-title { color: #d4a857; font-size: 1.2rem; padding: 1.5rem 1rem 0.5rem; text-align: center; border-top: 1px solid #333; margin-top: 1rem; }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 1rem; padding: 0 1rem 1rem; max-width: 1200px; margin: 0 auto; }
.card { background: #16213e; border-radius: 12px; overflow: hidden; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
.card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(212,168,87,0.2); }
.card img { width: 100%; aspect-ratio: 1/3; object-fit: cover; object-position: top; display: block; }
.card .info { padding: 0.6rem 0.8rem; }
.card .name-ja { font-size: 1.1rem; font-weight: bold; color: #d4a857; }
.card .name-en { font-size: 0.75rem; color: #888; }
.card .title { font-size: 0.7rem; color: #6a9; margin-top: 0.2rem; }

/* Modal */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 100; justify-content: center; align-items: center; flex-direction: column; }
.modal.active { display: flex; }
.modal img { max-height: 85vh; max-width: 95vw; object-fit: contain; border-radius: 8px; }
.modal .caption { color: #d4a857; font-size: 1.2rem; margin-top: 1rem; text-align: center; }
.modal .close { position: absolute; top: 1rem; right: 1.5rem; color: #fff; font-size: 2rem; cursor: pointer; }

.sheets { max-width: 1200px; margin: 0 auto; padding: 0.5rem 1rem 1rem; display: flex; flex-direction: column; gap: 1rem; }
.sheets img { width: 100%; border-radius: 8px; cursor: pointer; transition: transform 0.2s; }
.sheets img:hover { transform: scale(1.02); }
footer { text-align: center; padding: 2rem; color: #555; font-size: 0.8rem; }
footer a { color: #d4a857; text-decoration: none; }
</style>
</head>
<body>

<h1>パーリ経典キャラクター設定</h1>
<p class="subtitle">目覚めのソースコード ─ シッダルタ・メソッド</p>

<div class="group-title">◆ メインキャスト</div>
<div class="grid" id="main-cast"></div>

<div class="group-title">◆ 十大弟子</div>
<div class="grid" id="disciples"></div>

<div class="group-title">◆ キーキャラクター</div>
<div class="grid" id="key-chars"></div>

<div class="group-title">◆ マーラの眷属</div>
<div class="grid" id="mara-family"></div>

<div class="modal" id="modal" onclick="this.classList.remove('active')">
  <span class="close">&times;</span>
  <img id="modal-img" src="" alt="">
  <div class="caption" id="modal-caption"></div>
</div>

<div class="group-title">◆ キャラクターシート</div>
<div class="sheets">
  <img src="../img/charsheet-1.jpg" alt="Sheet 1/4" onclick="openModal(this.src,'Sheet 1/4: セゾン、シャリア、モクレン、カッサパ、アーナンダ、アヌルッダ')">
  <img src="../img/charsheet-2.jpg" alt="Sheet 2/4" onclick="openModal(this.src,'Sheet 2/4: カティ、ウパーリ、スブーティ、プールナ、ラーフラ、アンガリマーラ')">
  <img src="../img/charsheet-3.jpg" alt="Sheet 3/4" onclick="openModal(this.src,'Sheet 3/4: マーラ、キサーゴータミー、ヤショーダラー、マハーパジャーパティー、スジャータ、給孤独長者')">
  <img src="../img/charsheet-4.jpg" alt="Sheet 4/4" onclick="openModal(this.src,'Sheet 4/4: デーヴァダッタ、チュンダ、タンハー、アラティ、ラーガ')">
</div>

<footer>
  <a href="../json/viewer.html">セゾン訳ビューアー</a> ｜ 
  <a href="../../dao_de_jing/characters/">道徳経キャラクター</a> ｜
  東洋思想フルコース
</footer>

<script>
const characters = {
  "main-cast": [
    { file: "../img/sezon.jpg", ja: "セゾン", en: "Siddhartha Gotama", title: "《ノーコード》── 悟りのアーキテクト" },
    { file: "../img/sharia.jpg", ja: "シャリア", en: "Sāriputta", title: "《コンパイラ》── 智慧第一" },
    { file: "../img/mokuren.jpg", ja: "モクレン", en: "Moggallāna", title: "《ルートアクセス》── 神通第一" },
    { file: "../img/kassapa.jpg", ja: "カッサパ", en: "Mahākassapa", title: "《レガシーコード》── 頭陀第一" },
    { file: "../img/ananda.jpg", ja: "アーナンダ", en: "Ānanda", title: "《キャッシュメモリ》── 多聞第一" },
  ],
  "disciples": [
    { file: "../img/anuruddha.jpg", ja: "アヌルッダ", en: "Anuruddha", title: "《ダークモード》── 天眼第一" },
    { file: "../img/kaccayana.jpg", ja: "カティ", en: "Kaccāyana", title: "《パーサー》── 論議第一" },
    { file: "../img/upali.jpg", ja: "ウパーリ", en: "Upāli", title: "《リンター》── 持律第一" },
    { file: "../img/subhuti.jpg", ja: "スブーティ", en: "Subhūti", title: "《/dev/null》── 解空第一" },
    { file: "../img/punna.jpg", ja: "プールナ", en: "Puṇṇa", title: "《ブロードキャスト》── 説法第一" },
    { file: "../img/rahula.jpg", ja: "ラーフラ", en: "Rāhula", title: "《フォーク》── 密行第一" },
  ],
  "key-chars": [
    { file: "../img/mara.jpg", ja: "マーラ", en: "Māra", title: "《バグレポーター》── 悪魔" },
    { file: "../img/angulimala.jpg", ja: "アンガリマーラ", en: "Aṅgulimāla", title: "《バッファオーバーフロー》── 元殺人鬼" },
    { file: "../img/yashodhara.jpg", ja: "ヤショーダラー", en: "Yasodharā", title: "元妻" },
    { file: "../img/mahapajapati.jpg", ja: "マハーパジャーパティー", en: "Mahāpajāpatī", title: "育ての母" },
    { file: "../img/kisa_gotami.jpg", ja: "キサーゴータミー", en: "Kisā Gotamī", title: "芥子の種" },
    { file: "../img/sujata.jpg", ja: "スジャータ", en: "Sujātā", title: "乳粥の少女" },
    { file: "../img/anathapindika.jpg", ja: "給孤独長者", en: "Anāthapiṇḍika", title: "《エンジェル投資家》" },
    { file: "../img/devadatta.jpg", ja: "デーヴァダッタ", en: "Devadatta", title: "《ハードフォーク》── 裏切りの従兄弟" },
    { file: "../img/chunda.jpg", ja: "チュンダ", en: "Cunda", title: "最後の供養" },
  ],
  "mara-family": [
    { file: "../img/tanha.jpg", ja: "タンハー", en: "Taṇhā", title: "渇愛" },
    { file: "../img/arati.jpg", ja: "アラティ", en: "Aratī", title: "嫌悪" },
    { file: "../img/raga.jpg", ja: "ラーガ", en: "Rāga", title: "貪欲" },
  ]
};

function createCard(char) {
  const card = document.createElement('div');
  card.className = 'card';
  card.innerHTML = `
    <img src="${char.file}" alt="${char.ja}" loading="lazy">
    <div class="info">
      <div class="name-ja">${char.ja}</div>
      <div class="name-en">${char.en}</div>
      <div class="title">${char.title || ''}</div>
    </div>`;
  card.onclick = () => openModal(char.file, `${char.ja}（${char.en}）`);
  return card;
}

function openModal(src, caption) {
  document.getElementById('modal-img').src = src;
  document.getElementById('modal-caption').textContent = caption;
  document.getElementById('modal').classList.add('active');
}

Object.entries(characters).forEach(([groupId, chars]) => {
  const grid = document.getElementById(groupId);
  chars.forEach(c => grid.appendChild(createCard(c)));
});
</script>
</body>
</html>
